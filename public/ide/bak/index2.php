<!DOCTYPE html>
<html>
<head>
    <meta charset=utf-8>
    <title>Syntax Highlighting</title>
    <link href="./rainbow/themes/blackboard.css" rel="stylesheet" 
          type="text/css" media="screen">
    <script src="./rainbow/rainbow.js"></script>
    <script src="./rainbow/language/generic.js"></script>
    <script src="./rainbow/language/javascript.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="js/class.RHE.js"></script>
</head>
<body style="background:black;">
    <style>
    body
    {
        font-size: 100%;
        line-height: 16px;
    }
    div
    {
        color: #fff;
        font-family: "Lucida Console", "Monaco", monospace;
        font-size: 1em;
    }
    code
    {
        color: #fff;
        font-family: "Lucida Console", "Monaco", monospace;
        font-size: 1em;
    }
    </style>

    <div id="editor-ln-num" style="background:#555;text-align:right;width:3em;position:absolute;left:0;height:1em;margin:0;padding:0;">1</div>
    <pre style="position:absolute;left:4em;height:1em;margin:0;padding:0;width:auto;"><code id="editor" style="background:#333;width:auto;height:1em;margin:0;padding:0;" data-language="javascript"></code></pre>

<script type="text/javascript">

    'use strict';

    var rhe = new RHE();

    // onkeypress is only for character (printable) keys, 
    // onkeydown/up is for backspace, etc.
    $(document).keyup(function(e) {
        var charCodeActv = rhe.charCodes[e.keyCode];
        if (charCodeActv && ('ku' in charCodeActv)) {
            charCodeActv.ku.fn();
        }
    });

    $(document).keypress(function(e) {
        var charCode = (typeof e.which == "number" && e.which !== 0)? e.which 
                                                                    : e.keyCode;
        switch(e.keyCode) {
            case 8:
            case 13:
                break;
            default:
                $('#editor').append(String.fromCharCode(charCode));
        }
    });

</script>


</body>